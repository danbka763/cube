(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7165:function(e,t,n){Promise.resolve().then(n.bind(n,7833))},7833:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ex}});var r,o,i=n(7437),l=n(7041);let s=(0,l.vJ)(["*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}html{box-sizing:border-box;width:100%;height:100%;}body{width:100%;height:100%;background:linear-gradient(268.59deg,#0C0B1E 0.91%,#2A0F3B 51.75%,#0C0B1E 98.52%);}input{outline:none;}"]),a=async()=>{try{let e=await fetch("https://api.lettobet.dev.bet4skill.com/api/auth/me",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Accept-Language":"en-RU,en;q=0.9,ru-RU;q=0.8,ru;q=0.7,he;q=0.6",Connection:"keep-alive"},credentials:"include"});if(e.ok)return await e.json();console.error("Failed to fetch user")}catch(e){console.error("Error fetching user")}};var c=n(2265);let d=(0,c.createContext)({}),u=e=>{let{children:t}=e,[n,r]=(0,c.useState)(!1),[o,l]=(0,c.useState)(!1),[s,u]=(0,c.useState)(100);return console.log("wallet: ",s),(0,c.useEffect)(()=>{a().then(e=>(null==e?void 0:e.id)&&r(!0))},[]),(0,i.jsx)(d.Provider,{value:{auth:n,setAuth:r,openModal:o,setOpenModal:l,wallet:s,changeWallet:e=>{u(t=>t+e)}},children:t})};var p=n(5358),h=n.n(p);let f=l.ZP.main.withConfig({componentId:"sc-2267400-0"})(["width:100%;height:100%;"]),x=e=>{let{children:t}=e;return(0,i.jsx)(f,{className:h().className,children:t})},g=l.ZP.p.withConfig({componentId:"sc-fbe5476b-0"})(["color:",";font-size:",";"],e=>{let{color:t}=e;return t||"#FFFFFF"},e=>{let{fontSize:t}=e;return t?t+"px":"16px"}),b=e=>{let{children:t,...n}=e;return(0,i.jsx)(g,{...n,children:null!=t?t:""})},m=e=>{let{children:t,active:n,...r}=e,[o,l]=(0,c.useState)(!1);return(0,i.jsx)("button",{...r,onMouseDown:()=>l(!0),onMouseUp:()=>l(!1),children:t})},j=l.ZP.div.withConfig({componentId:"sc-82f102a9-0"})(["position:relative;display:flex;gap:8px;"]),v=()=>{let{setOpenModal:e}=(0,c.useContext)(d);return(0,i.jsxs)(j,{children:[(0,i.jsx)(m,{onClick:()=>e(!0),children:"Вход"}),(0,i.jsx)(m,{children:"Регистрация"})]})},w=()=>"119 999 911.10 (TND)",y=()=>(0,i.jsx)(b,{children:(0,i.jsx)(w,{})}),C=l.ZP.header.withConfig({componentId:"sc-bd11fd41-0"})(["position:absolute;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 24px;"]),S=()=>{let{auth:e}=(0,c.useContext)(d);return(0,i.jsxs)(C,{children:[(0,i.jsx)(b,{children:"Test Game"}),e?(0,i.jsx)(y,{}):(0,i.jsx)(v,{})]})},k=e=>{switch(e){case 1:return"\n        justify-content: center;\n        align-items: center;\n      ";case 2:return"\n        justify-content: space-between;\n        .dot:nth-of-type(2) { align-self: flex-end; }\n      ";case 3:return"\n        justify-content: space-between;\n        .dot:nth-of-type(2) { align-self: center; }\n        .dot:nth-of-type(3) { align-self: flex-end; }\n      ";case 4:return"\n        flex-wrap: wrap;\n        gap: ".concat(92.26-60,"px;\n      ");case 5:return"\n        justify-content: space-between;\n        align-items: space-between;\n        flex-wrap: wrap;\n        .dot:nth-of-type(2) { position: relative; top: calc(50% - 10px) }\n        .dot:nth-of-type(4) { align-self: flex-end; }\n        .dot:nth-of-type(5) { align-self: flex-end; }\n      ";case 6:return"\n        justify-content: space-between;\n        align-items: center;\n        flex-wrap: wrap;\n      ";default:return""}},I=l.ZP.div.withConfig({componentId:"sc-b3549617-0"})(["display:flex;justify-content:center;align-items:center;padding:18.87px;margin:34px;border-radius:4.67px;border:2px solid #42165d;"]),N=(0,l.F4)(["0%{transform:rotate(0);}100%{transform:rotate(360deg);}"]),P=l.ZP.div.withConfig({componentId:"sc-b3549617-1"})(["width:92.26px;height:92.26px;background-color:white;border-radius:10px;display:flex;padding:10px;"," animation:"," 0.35s linear infinite;"],e=>{let{$dots:t}=e;return k(t)},e=>{let{$rolling:t}=e;return t?N:"none"}),Z=l.ZP.div.withConfig({componentId:"sc-b3549617-2"})(["width:20px;height:20px;background-color:black;border-radius:50%;"]),E=e=>{let{rolling:t,dots:n}=e,r=[];for(let e=1;e<=n;e++)r.push((0,i.jsx)(Z,{className:"dot"},e));return(0,i.jsx)(I,{children:(0,i.jsx)("div",{children:(0,i.jsx)(P,{$rolling:t,$dots:n,children:r})})})},F=l.ZP.div.withConfig({componentId:"sc-e4544365-0"})(["width:100%;"]),z=e=>{let{text:t,children:n}=e;return(0,i.jsxs)(F,{children:[(0,i.jsx)(b,{fontSize:14,children:t}),n]})},O=l.ZP.div.withConfig({componentId:"sc-b8a6076d-0"})(["position:relative;width:100%;"]),$=e=>{let{setIsOpen:t,children:n}=e;return(0,i.jsx)(O,{onBlur:()=>t(!1),children:n})};var A=n(1627),T=n.n(A);let _=l.ZP.select.attrs({}).withConfig({componentId:"sc-bf45efee-0"})(["width:100%;padding:8px 12px;border:1px solid ",";border-radius:6px;appearance:none;background-color:white;&:focus{outline:none;border-color:#3893ff;}"],e=>{let{$isOpen:t}=e;return t?"#3893FF":"#CBD5E1"}),B=e=>{let{options:t,handleChange:n,handleToggle:r,value:o,isOpen:l}=e;return(0,i.jsx)(_,{className:T().className,value:o,onChange:n,onClick:r,$isOpen:l,children:t.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})};var U=n(6648);let D=(0,l.ZP)(U.default).attrs({}).withConfig({componentId:"sc-6a77bdde-0"})(["position:absolute;top:50%;right:10px;transform:translateY(-50%) rotate(",");transform-origin:center;"],e=>{let{$isOpen:t}=e;return t?"0deg":"180deg"}),M=e=>{let{isOpen:t}=e;return(0,i.jsx)(D,{src:"./dropdown-icon.svg",alt:"dropdown icon",$isOpen:t,width:8,height:4})},q=e=>{let{options:t,value:n,onChange:r}=e,[o,l]=(0,c.useState)(!1);return(0,i.jsxs)($,{setIsOpen:l,children:[(0,i.jsx)(B,{value:String(n),handleChange:e=>{l(!1),r(Number(e.target.value))},handleToggle:()=>{l(e=>!e)},isOpen:o,options:t.map(e=>({...e,value:String(e.value)}))}),(0,i.jsx)(M,{isOpen:o})]})};var L=n(7550),R=n.n(L);let G=l.ZP.input.withConfig({componentId:"sc-92f9f4fa-0"})(["width:",";padding:",";border:1px solid;border-color:#cbd5e1;border-radius:6px;color:#00000080;&:focus{border-color:#3893ff;}&:disabled{border-color:#cbd5e1;opacity:0.5;}&:error{border-color:#ff0000;}"],e=>{let{width:t}=e;return t?t+("number"==typeof t?"px":""):"100%"},e=>{let{$padding:t}=e;return t?t+("number"==typeof t?"px":""):"8px 12px"}),J=e=>{let{children:t,padding:n,...r}=e;return(0,i.jsx)(G,{$padding:n,className:R().className,...r,children:t})},H=(0,l.ZP)(m).withConfig({componentId:"sc-2e0ebfa-0"})(["display:flex;justify-content:space-between;align-items:center;"]),W=e=>{let{specificNumber:t,setSpecificNumber:n,...r}=e,{active:o}=r;return(0,i.jsxs)(H,{...r,children:[(0,i.jsx)(b,{children:"Конкретное число"}),(0,i.jsx)(J,{value:t,onChange:e=>n(Number(e.target.value)),disabled:!o,width:30,padding:"4px 10px"})]})};(r=o||(o={}))[r.none=0]="none",r[r.even=1]="even",r[r.odd=2]="odd",r[r.range1to3=3]="range1to3",r[r.range4to6=4]="range4to6",r[r.specificNumber=5]="specificNumber";let Y=l.ZP.div.withConfig({componentId:"sc-8dd5507d-0"})(["display:grid;gap:10px;grid-template-columns:repeat(2,1fr);"]),K=l.ZP.div.withConfig({componentId:"sc-8dd5507d-1"})(["grid-column:span 2;"]),Q=e=>{let{variant:t,setVariant:n}=e.controller,{specificNumber:r,setSpecificNumber:l}=e.specific;return(0,i.jsxs)(Y,{children:[(0,i.jsx)(m,{onClick:()=>n(o.even),active:t===o.even,children:"Четное"}),(0,i.jsx)(m,{onClick:()=>n(o.odd),active:t===o.odd,children:"Нечетное"}),(0,i.jsx)(m,{onClick:()=>n(o.range1to3),active:t===o.range1to3,children:"От 1 до 3"}),(0,i.jsx)(m,{onClick:()=>n(o.range4to6),active:t===o.range4to6,children:"От 4 до 6"}),(0,i.jsx)(K,{children:(0,i.jsx)(W,{onClick:()=>n(o.specificNumber),active:t===o.specificNumber,specificNumber:r,setSpecificNumber:l})})]})},V=(e,t)=>Math.floor(Math.random()*(t-e)+e),X=(e,t,n,r)=>{let i=2*e,l=-1*e;switch(n){case o.even:if(t%2)return l;return i;case o.odd:if(!(t%2))return l;return i;case o.range1to3:if(t>3)return l;return i;case o.range4to6:if(t<4)return l;return i;case o.specificNumber:if(t!==r)return l;return i+e;default:return 0}},ee=[{value:1,label:"1.00"},{value:5,label:"5.00"},{value:10,label:"10.00"},{value:15,label:"15.00"},{value:20,label:"20.00"}],et=l.ZP.section.withConfig({componentId:"sc-416c5128-0"})(["width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;& > * > *{pointer-events:",";opacity:",";}& > * > .center-text{opacity:1;}"],e=>{let{disabled:t}=e;return t?"none":"auto"},e=>{let{disabled:t}=e;return t?"50%":1}),en=l.ZP.div.withConfig({componentId:"sc-416c5128-1"})(["width:100%;max-width:338px;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:16px;"]),er=(0,l.ZP)(m).withConfig({componentId:"sc-416c5128-2"})(["background-color:#37ac00;border-color:#55f30a;&:hover{background-color:#41ca00;border-color:#7dff3f;}"]),eo=()=>{let e;let{auth:t,changeWallet:n}=(0,c.useContext)(d),[r,l]=(0,c.useState)(!1),[s,a]=(0,c.useState)(o.none),[u,p]=(0,c.useState)(1),[h,f]=(0,c.useState)(ee[0].value),[x,g]=(0,c.useState)(1),[m,j]=(0,c.useState)(!0),[v,w]=(0,c.useState)(),y=(0,c.useCallback)(()=>{let e=X(h,x,s,u);w(e),n(e)},[h,x,s,u]);(0,c.useEffect)(()=>{r||m||y()},[r,m]);let C="Войдите, чтобы продолжить";return t&&(void 0===v?C="Сделайте ставку":(C="Результат броска кубика: ".concat(x),e=v>0?"Вы выиграли ".concat(v," TND!"):"Повезёт в следующий раз!")),(0,i.jsx)(et,{disabled:!t,children:(0,i.jsxs)(en,{children:[(0,i.jsx)(b,{className:"center-text",fontSize:20,children:C}),e&&!r&&(0,i.jsx)(b,{fontSize:16,children:e}),(0,i.jsx)(E,{rolling:r,dots:x}),(0,i.jsx)(z,{text:"Размер ставки",children:(0,i.jsx)(q,{options:ee,value:h,onChange:f})}),(0,i.jsx)(z,{text:"Варианты ставок",children:(0,i.jsx)(Q,{controller:{variant:s,setVariant:a},specific:{specificNumber:u,setSpecificNumber:p}})}),(0,i.jsx)(er,{disabled:s===o.none,onClick:()=>{j(!1),l(!0);let e=V(750,1200),t=setInterval(()=>{g(V(1,6))},25);setTimeout(()=>{clearInterval(t),l(!1)},e)},children:"Сделать ставку"})]})})},ei=l.ZP.div.withConfig({componentId:"sc-7994a5dd-0"})(["position:absolute;left:0;top:0;width:100%;height:100%;background-color:#00000050;z-index:0;display:",";justify-content:center;align-items:center;"],e=>{let{$open:t}=e;return t?"flex":"none"}),el=l.ZP.form.withConfig({componentId:"sc-7994a5dd-1"})(["background-color:#250e36;border:1px solid #4b2964;border-radius:4px;padding:48px;width:100%;max-width:434px;position:relative;z-index:1;display:flex;flex-direction:column;gap:16px;"]),es=l.ZP.button.withConfig({componentId:"sc-7994a5dd-2"})(["border:0;background:none;width:28px;height:28px;display:flex;justify-content:center;align-items:center;position:absolute;top:8px;right:8px;cursor:pointer;"]),ea=e=>{let{controller:{open:t,setOpen:n},children:r,onSubmit:o}=e;return(0,i.jsx)(ei,{$open:t,children:(0,i.jsxs)(el,{onSubmit:o,children:[(0,i.jsx)(es,{onClick:()=>n(!1),children:(0,i.jsx)(U.default,{src:"./exit.svg",alt:"exit",width:14.6,height:14})}),r]})})},ec=e=>{let{error:t,...n}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(J,{...n}),t&&(0,i.jsx)(b,{color:"red",children:"Error"})]})},ed=e=>/^[a-zA-Z0-9._]{4,20}$/.test(e),eu=e=>/^[A-Za-z0-9\d@$!%*#?&_]{4,20}$/.test(e),ep=e=>{let{onSubmit:t}=e,{openModal:n,setOpenModal:r,setAuth:o}=(0,c.useContext)(d),[l,s]=(0,c.useState)(""),[a,u]=(0,c.useState)(""),[p,h]=(0,c.useState)(!1),[f,x]=(0,c.useState)(!1),g=ed(l),b=eu(a);return(0,i.jsxs)(ea,{controller:{open:n,setOpen:r},onSubmit:e=>{if(e.preventDefault(),!g||!b){g||h(!0),b||x(!0);return}t(l,a).then(e=>{(null==e?void 0:e.id)&&(o(!0),r(!1))})},children:[(0,i.jsx)(ec,{type:"text",placeholder:"Login",value:l,onChange:e=>{h(!1),s(e.target.value)},error:p}),(0,i.jsx)(ec,{type:"password",placeholder:"Password",value:a,onChange:e=>{x(!1),u(e.target.value)},error:f}),(0,i.jsx)(m,{type:"submit",children:"Войти"})]})},eh=async(e,t)=>{try{let n=await fetch("https://api.lettobet.dev.bet4skill.com/api/client-login",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({login:e,password:t}),credentials:"include"});if(n.ok){let e=await n.json();return console.log("Login successful",e),e}return console.error("Login failed"),n}catch(e){console.error("Error during login",e)}},ef=()=>(0,i.jsxs)(x,{children:[(0,i.jsx)(S,{}),(0,i.jsx)(eo,{}),(0,i.jsx)(ep,{onSubmit:eh})]});function ex(){return(0,i.jsxs)(u,{children:[(0,i.jsx)(s,{}),(0,i.jsx)(ef,{})]})}}},function(e){e.O(0,[594,41,98,971,23,744],function(){return e(e.s=7165)}),_N_E=e.O()}]);